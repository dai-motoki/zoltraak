## ゴール: スタバ顧客分析プロダクトv1 Streamlit の簡易アプリをローカルに作る

## 1. 目的
スタバ顧客分析プロダクトv1上記のゴールを満たすStreamlitアプリケーションの要件定義を記述してください:
    - ペルソナ
        - 30代の都会的なスタバ利用客
        - 忙しい日常の中で小休憩を取りたい
        - スタバの利用履歴を振り返りたい
        - 自分のスタバ利用傾向を把握したい
    - ユーザーストーリー
        - 自分のスタバ利用履歴を可視化したい
        - 利用傾向(曜日、時間帯、商品など)を分析したい
        - 自分のスタバ利用パターンを把握したい

## 2. ファイル・フォルダ構成
    - Markdown形式で省略なしのファイル・フォルダ構成を記述してください
    - Streamlitアプリケーションのディレクトリ構成を記述
        ├── app.py: 全体を統合するpythonファイル
        ├── utils.py: データ処理やグラフ描画などの機能を定義
        ├── templates/
        │   ├── header.py: ヘッダー部分のUI定義
        │   ├── sidebar.py: サイドバー部分のUI定義
        │   └── footer.py: フッター部分のUI定義
        ├── data/
        │   └── sample_data.csv: サンプルデータ
        └── requirements.txt: 必要なライブラリ一覧

## 4. Streamlitコンポーネント
    - アプリケーションを構成する主要なStreamlitコンポーネントを列挙
    - 各コンポーネントの役割、入力と出力を記述してください
        - st.sidebar.selectbox(): ユーザーにデータの絞り込み条件を選択させる
        - st.line_chart(): 利用履歴の推移をグラフ化する
        - st.bar_chart(): 利用傾向(曜日、時間帯、商品)をグラフ化する
        - st.dataframe(): 利用履歴の一覧を表示する

## 5. データの流れ
    - ユーザー入力からデータ処理、結果表示までのデータの流れを説明
        1. ユーザーがサイドバーで絞り込み条件を選択
        2. 選択された条件に基づいて、sample_data.csvからデータを抽出
        3. 抽出したデータを可視化してグラフ化
        4. グラフとデータ一覧をメイン画面に表示

## 6. ユーザーインターフェース
    - アプリケーションの画面遷移図を作成
        - 単一画面のアプリケーションのため、画面遷移図はない
    - 各画面のワイヤーフレームまたはモックアップを用意
        - サイドバーにデータ絞り込み条件を配置
        - メイン画面にグラフと履歴一覧を表示
    - ユーザーインタラクションとイベントハンドリングについて説明
        - ユーザーがサイドバーの絞り込み条件を変更すると、メイン画面のグラフと一覧が即座に更新される

## 7. 開発環境
    - 使用するPythonのバージョン: 3.9.x
    - 必要なライブラリとそのバージョン:
        - streamlit==1.11.0
        - pandas==1.3.5
        - matplotlib==3.5.1
        - seaborn==0.11.2
    - venv仮想環境を構築

## 8. テスト
    - ユニットテストの方針を決定
        - 主要な機能(データ抽出、グラフ描画、一覧表示)についてテストケースを作成
    - 主要な機能についてテストケースを作成
        - サンプルデータを用いて、絞り込み条件ごとのデータ抽出結果のテスト
        - 各グラフの描画結果のテスト
        - 一覧表示の内容確認テスト
    - テストデータの準備方法を説明
        - sample_data.csvにテストデータを用意
        - 必要に応じて、テストデータを動的に生成するユーティリティを実装